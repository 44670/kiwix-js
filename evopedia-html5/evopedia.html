<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type"
	content="application/xhtml+xml; charset=UTF-8" />

<!--
Port of Evopedia (offline wikipedia reader) in HTML5/Javascript, with Firefox OS as the primary target
The original application is at http://www.evopedia.info/
It uses wikipedia dumps located at http://dumpathome.evopedia.info/dumps/finished

Author : Mossroy - mossroy@free.fr

License:

    This program is free software; you can redistribute it and/or modify it
    under the terms of the GNU General Public License as published by the
    Free Software Foundation; either version 3 of the License, or (at your
    option) any later version.

    This program is distributed in the hope that it will be useful, but
    WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
    General Public License for more details.

    You should have received a copy of the GNU General Public
    License along with this program; if not, see
    <http://www.gnu.org/licenses/>.

-->

<title>Evopedia HTML5</title>
<script type="text/javascript" src="bzip2.js"></script>
<script type="text/javascript" src="remove_diacritics.js"></script>
</head>

<body>
	<h1>Evopedia</h1>
	<div id="openLocalFiles" style="display: none;">
		<br />
		Please select the file titles.idx :<br /> <input type="file"
			id="titleFile" /><br /> Please select the files wikipedia_*.dat from
		the same dump :<br /> <input type="file" id="dataFiles" multiple />
	</div>
	<br /> Find titles from the prefix :
	<input type="text" id="prefix" value="" onkeyup="onKeyUpPrefix(event)" />&nbsp;
	<input type="button" id="searchTitles" value="Search titles"
		onclick="searchTitlesFromPrefix(titleFile,document.getElementById('prefix').value)" />
	<br /> Choose a title from the filtered list :
	<select id="titleList" onchange="updateOffsetsFromTitle(this.value)"></select>
	<br />
	<table>
		<tr>
			<th>&nbsp;</th>
			<th>Original offsets</th>
			<th>Redirect offsets</th>
		</tr>
		<tr>
			<td>File number</td>
			<td><input type="text" id="filenumber" value="" /></td>
			<td><input type="text" id="redirectfilenumber" value="" /></td>
		</tr>
		<tr>
			<td>Blockstart</td>
			<td><input type="text" id="blockstart" value="" /></td>
			<td><input type="text" id="redirectblockstart" value="" /></td>
		</tr>
		<tr>
			<td>Blockoffset</td>
			<td><input type="text" id="blockoffset" value="" /></td>
			<td><input type="text" id="redirectblockoffset" value="" /></td>
		</tr>
		<tr>
			<td>Length</td>
			<td><input type="text" id="length" value="" /></td>
			<td><input type="text" id="redirectlength" value="" /></td>
		</tr>
	</table>
	<input type="button" id="readData" value="Read article from dump"
		onclick="readArticleFromHtmlForm(dataFiles)" />
	<br />
	<!-- TODO : add CSS styles -->
	<div id="articleContent">&nbsp;</div>
	<hr />
	<textarea id="debugZone" cols="80" rows="20">&nbsp;</textarea>

	<script type="text/javascript" src="evopedia.js"></script>
</body>
</html>
